<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
		<link rel="icon" href="favicon.svg" />
		<link rel="manifest" href="manifest.json" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=block"
			rel="stylesheet"
		/>
		<title>Lunar</title>
	</head>
	<body>
		<div id="root"></div>
		<div id="app-loader">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
				<rect width="256" height="256" fill="none" />
				<path d="M184,120v61.65a8,8,0,0,1-2.34,5.65l-34.35,34.35a8,8,0,0,1-13.57-4.53L128,176Z" opacity="0.2" />
				<path d="M136,72H74.35a8,8,0,0,0-5.65,2.34L34.35,108.69a8,8,0,0,0,4.53,13.57L80,128Z" opacity="0.2" />
				<path d="M94.56,187.82C90.69,196.31,77.65,216,40,216c0-37.65,19.69-50.69,28.18-54.56Z" opacity="0.2" />
				<path
					d="M191.11,112.89c24-24,25.5-52.55,24.75-65.28a8,8,0,0,0-7.47-7.47c-12.73-.75-41.26.73-65.28,24.75L80,128l48,48Z"
					fill="none"
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="16"
				/>
				<path
					d="M136,72H74.35a8,8,0,0,0-5.65,2.34L34.35,108.69a8,8,0,0,0,4.53,13.57L80,128"
					fill="none"
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="16"
				/>
				<path
					d="M184,120v61.65a8,8,0,0,1-2.34,5.65l-34.35,34.35a8,8,0,0,1-13.57-4.53L128,176"
					fill="none"
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="16"
				/>
				<path
					d="M94.56,187.82C90.69,196.31,77.65,216,40,216c0-37.65,19.69-50.69,28.18-54.56"
					fill="none"
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="16"
				/>
			</svg>
		</div>
		<style>
			#app-loader {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				z-index: 9999;
			}

			#app-loader svg {
				width: 50px;
				height: 50px;
				animation: open 150ms cubic-bezier(0, 0, 0.2, 1) 0ms;
			}

			@keyframes open {
				0% {
					opacity: 0;
				}
				100% {
					opacity: 1;
				}
			}
		</style>
		<script>
			const themeBackgrounds = {
				'light-primary': '#FFFFFF',
				'light-high-contrast': '#FFFFFF',
				'light-alt-1': '#FEFEFE',
				'light-alt-2': '#FFFFFF',
				'dark-primary': '#17181C',
				'dark-high-contrast': '#111214',
				'dark-alt-1': '#16161C',
				'dark-alt-2': '#17191f',
			};

			function getTheme() {
				try {
					const settings = localStorage.getItem('settings');
					if (settings) {
						const parsed = JSON.parse(settings);
						return parsed.theme;
					}
				} catch (e) {}

				return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
					? 'dark-primary'
					: 'light-primary';
			}

			const theme = getTheme();
			const backgroundColor = themeBackgrounds[theme] || themeBackgrounds['dark-primary'];
			document.body.style.backgroundColor = backgroundColor;

			const isDarkTheme = theme.startsWith('dark');
			const iconColor = isDarkTheme ? '#EBEBEB' : '#444444';
			const loaderIcon = document.querySelector('#app-loader svg');

			if (loaderIcon) {
				loaderIcon.style.color = iconColor;
			}

			window.hideAppLoader = function () {
				const loader = document.getElementById('app-loader');
				if (loader) {
					loader.style.display = 'none';
				}
			};
		</script>
		<script type="module" src="/src/index.tsx"></script>
		<script
			async
			src="https://ackee.frogfishsolutions.io/tracker.js"
			data-ackee-server="https://ackee.frogfishsolutions.io"
			data-ackee-domain-id="78be6b29-a8f0-4210-9dfd-ad232909d50a"
		></script>
	</body>
</html>
